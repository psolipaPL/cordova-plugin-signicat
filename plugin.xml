<?xml version="1.0" encoding="utf-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
        id="cordova-plugin-signicat"
        version="1.0.0">

    <name>cordova-plugin-signicat</name>

    <engines>
        <engine name="cordova" version=">=9.0.0"/>
        <engine name="cordova-android" version=">=10.0.0"/>
        <engine name="cordova-ios" version=">=5.0.0"/>
    </engines>
        
    <js-module name="Signicat" src="www/signicat.js">
        <clobbers target="Signicat"/>
    </js-module>

    <platform name="android">
        <!-- include the "android-sdk-1.1.5.aar" library -->
        <framework src="src/android/build.gradle" custom="true" type="gradleReference"/>
        <framework src="src/android/android-sdk-1.1.5.aar" custom="true" type="aar" />
        <source-file src="src/android/SignicatPlugin.java" target-dir="src/com/signicat/plugin" />
    </platform>

    <platform name="ios">
        <framework src="src/ios/ConnectisSDK.framework" custom="true" embed="true" />
        
        <header-file src="src/ios/SignicatPlugin.h" />
        <source-file src="src/ios/SignicatPlugin.m" />
        
        <!-- Required for app-to-app flows like DigiD -->
        <config-file target="*-Info.plist" parent="LSApplicationQueriesSchemes">
                <array>
                    <string>connectis</string>
                    <string>digid</string>
                </array>
        </config-file>
        
        <!-- Allow universal links if used -->
        <config-file target="*-Info.plist" parent="com.apple.developer.associated-domains">
                <array>
                    <string>applinks:your-domain.com</string>
                </array>
        </config-file>
    </platform>

</plugin>




